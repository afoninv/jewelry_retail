{% extends "jr_catalogue.html" %}

{% block more_style %} 
        .view_item{
            float: left;
            border-style:solid; border-width:thin; border-color:#666;
            padding:10px; margin: 10px;}

        .view_item a:link, .view_item a:visited{
            text-decoration: none;
            color:white; }

        .view_item a:hover{
            color:red; } 

         .photo{
            color:white; 
            background-color: red; 
            padding: 25px 25px 25px 25px;
            text-align: center;
            text-decoration: none;}

{% endblock %}

{% block catalogue_view %}<div class="catalogue_view">

<!-- Here deprecated stuff

<p>
<div style="float:left">{% if item.image_three %}<img src="{{ item.image_three.url }}">{% else %}<img src="/images/special/placeholder3.jpg">{% endif %}</div>
<p> <img src="{{ item.thumbnail }}">
<p>{% if item.image_two %}<img src="{{ item.image_two.url }}">{% else %}<img src="/images/special/placeholder2.jpg">{% endif %} 

End deprecated stuff -->

<!-- Here Galleriffic try  (more below) -->

		<div id="page">
			<div id="container">

				<!-- Start Advanced Gallery Html Containers -->
				<div id="gallery" class="content">
					<div id="controls" class="controls"></div>
					<div class="slideshow-container">
						<div id="loading" class="loader"></div>
						<div id="slideshow" class="slideshow"></div>
					</div>
					<div id="caption" class="caption-container"></div>
				</div>
				<div id="thumbs" class="navigation">
					<ul class="thumbs noscript">
						<li>
							<a class="thumb" name="first 111" href="/images/articles/IMG_2958.jpg" title="First 111">
								<img src="/images/articles/IMG_2958_thumb.jpg" alt="First 111" />
							</a>
							<div class="caption">
								<div class="image-title">First 111</div>
								<div class="image-desc">Description of first 111</div>
							</div>
						</li>

						<li>
							<a class="thumb" name="second 111" href="/images/articles/IMG_2947.jpg" title="Second 111">
								<img src="/images/articles/IMG_2947_thumb.jpg" alt="Second 111" />
							</a>
							<div class="caption">
								Something second 111
							</div>
						</li>
					</ul>
				</div>
				<div style="clear: both;"></div>
			</div>
		</div>

<!-- End Galleriffic try (more below) -->


<p style="text-align:center"> <strong>{{ item.name }}</strong>
<p> {{ item.j_type }} 
        ({{ item.metal }}, 
        {{ item.gem_summary }})
<p>Металл: {{ item.metal }}, вставка: {{ item.gem_summary }}
<p>Цена: {{ item.price }}
<br>
    <form id="jr_id" name="jr_id" action="" method="post">{% csrf_token %}
        {% if item.j_type_eng = 'ring' %}
        <div class="field">
            {{ form.size.errors }}
            <label for="id_size">Размер:</label>
            {{ form.size }}
        </div>
        {% endif %}

        <input type="submit" value="Добавить в корзину">    
    </form>
<br>
<br>
<p>{{ item.site_description }}
<br>
<br>
<br>
<hr>

<p>Закажите по телефону сейчас +7 905 5555555 или добавьте в корзину.
<br>
<br>
<br>
<hr>

    {% if results %}
    <div class="other_suite_items">
        <p>В комплекте с этим изделием:
            {% for item in results %}
                <div class="view_item">
                    <a href="{{item.get_absolute_url}}"><div class="photo"><img src="{{ item.thumbnail }}"></div></a><div style="text-align: center">{{ item.j_type}} "{{ item.name }}"<br> ({{ item.price }} р.)</div>
                </div>
            {% endfor %}
    </div>

    {% endif %}


</div>

<!-- Here Galleriffic try (second part) -->
		<script type="text/javascript">
			jQuery(document).ready(function($) {
				// We only want these styles applied when javascript is enabled
				$('div.navigation').css({'width' : '300px', 'float' : 'left'});
				$('div.content').css('display', 'block');

				// Initially set opacity on thumbs and add
				// additional styling for hover effect on thumbs
				var onMouseOutOpacity = 0.67;
				$('#thumbs ul.thumbs li').opacityrollover({
					mouseOutOpacity:   onMouseOutOpacity,
					mouseOverOpacity:  1.0,
					fadeSpeed:         'fast',
					exemptionSelector: '.selected'
				});				

				// Initialize Advanced Galleriffic Gallery
				var gallery = $('#thumbs').galleriffic({
					delay:                     2500,
					numThumbs:                 15,
					preloadAhead:              10,
					enableTopPager:            false,
					enableBottomPager:         false,
					maxPagesToShow:            7,
					imageContainerSel:         '#slideshow',
					controlsContainerSel:      '#controls',
					captionContainerSel:       '#caption',
					loadingContainerSel:       '#loading',
					renderSSControls:          false,
					renderNavControls:         false,
					playLinkText:              'Play Slideshow',
					pauseLinkText:             'Pause Slideshow',
					prevLinkText:              '&lsaquo; Previous Photo',
					nextLinkText:              'Next Photo &rsaquo;',
					nextPageLinkText:          'Next &rsaquo;',
					prevPageLinkText:          '&lsaquo; Prev',
					enableHistory:             false,
					autoStart:                 false,
					syncTransitions:           true,
					defaultTransitionDuration: 900,
					onSlideChange:             function(prevIndex, nextIndex) {
						// 'this' refers to the gallery, which is an extension of $('#thumbs')
						this.find('ul.thumbs').children()
							.eq(prevIndex).fadeTo('fast', onMouseOutOpacity).end()
							.eq(nextIndex).fadeTo('fast', 1.0);
					},
					onPageTransitionOut:       function(callback) {
						this.fadeTo('fast', 0.0, callback);
					},
					onPageTransitionIn:        function() {
						this.fadeTo('fast', 1.0);
					}
				});
			});
		</script>

<!-- End Galleriffic try (second part) -->
{% endblock %}